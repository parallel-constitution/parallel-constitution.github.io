<!doctype html>
<html lang = "en" >
<head>
<meta charset = "utf-8" >
<meta name = description content = "Basic HTML template" >
<meta name = keywords content = "JavaScript,GitHub,FOSS,3D,STEM" >
<meta name = date content = "2017-08-04" >
<title>Menu Constitution</title>
<style>

	body { font: 12pt monospace; margin: 0 auto; max-width: 800px; }
	a { color: crimson; text-decoration: none; }

/*	#menu { margin: 0 20px; max-width: 500px; position: absolute; } */

</style>
</head>
<body>

	<div id = "menu" >
		<div id = "header" ><h1><a id = "title" href = "" ></a></h1></div>
		<div id = "contents" ></div>
	</div>

<script>

	const b = '<br>';

	init();

	function init() {

		let txt;

		if ( parent.main && !parent.ifrMain ) {

			title.innerHTML = '';

			parent.location.hash = 'faq.md';

			parent.iframeMenu.style.height = document.body.scrollHeight + 'px';

		} else {

			title.innerHTML = document.title;

		}

		txt = parent.document.getElementById( 'foo' );

		if ( txt ) {

			txt.innerHTML += 
//			parent.mainContents.style.cssText = 
				'h1 { color: red; margin: 0}' +

//				'h1 { counter-reset: section; }' +
				'body { font: 12pt monospace; counter-reset: section; }' +
				'h3 { counter-reset: question; }' +

				'div.center h2::before { counter-increment: section; content: "Section " counter( section ) ": "; }' +
				'div.center h3::before { counter-increment: question; content: "" counter( section ) "." counter( question ) " "; } ' +
//				'div.center p::before { counter-increment: paragraph; content: "[" counter( paragraph ) "] "; }' +

			'';

		}

		parent.showdown.onload = onPageLoad;

	}


	function doIt( item ) {

		header = parent.document.getElementById( item );

		header.scrollIntoView();

	}


	function onPageLoad() {

		let headers, txt;

		headers = parent.mainContents.querySelectorAll( 'h2' );

console.log( 'headers', headers );

		txt = 
			'<a href="index.html" target=_top >main menu &raquo; </a>' +
			'<h4><a href=JavaScript:parent.mainContents.scrollIntoView(); >FAQ</a></h4>';

		for ( var i = 0; i < headers.length; i++ ) {

			txt += '<p><a href=JavaScript:; onclick=doIt("' + headers[i].id + '"); >' + headers[ i ].innerHTML + '</a></p>';

		}

		contents.innerHTML = txt;

	}

</script>
</body>
</html>
